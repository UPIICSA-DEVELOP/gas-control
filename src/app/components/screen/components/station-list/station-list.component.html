<!--
  ~ Copyright (C) MapLander S de R.L de C.V - All Rights Reserved
  ~ Unauthorized copying of this file, via any medium is strictly prohibited
  ~ Proprietary and confidential
  -->

<div id="station-list">

  <mat-card class="container">
    <mat-card-header>
      <div class="header">
        <span class="title">LISTA DE ESTACIONES</span>
      </div>
    </mat-card-header>
    <div *ngIf="consultancyBasicData; then list else loading"></div>
      <ng-template #loading>
        <mat-card-content class="not-stations">
          <mat-spinner></mat-spinner>
        </mat-card-content>
      </ng-template>
      <ng-template #list>
        <div *ngIf="consultancyBasicData.stationLites; then stations else notData"></div>
        <ng-template #stations>
          <mat-card-content>
            <mat-card class="notify" *ngFor="let stations of consultancyBasicData.stationLites">
              <div class="image" *ngIf="groupIcon">
                <img class="image-station" *ngIf="groupIcon" [src]="groupIcon.groupIcons[stations.type-1].fileCS.thumbnail" alt="station image">
                <mat-icon *ngIf="!groupIcon" class="image-station">local_gas_station</mat-icon>
              </div>
              <div class="column">
                <div class="margin">
                  <span class="task-head">{{stations.name}}</span>
                </div>
                <div class="margin">
                  <span class="content">{{stations.managerName}}</span>
                </div>
                <div class="margin">
                  <span class="content"> {{stations.email}}</span>
                </div>
                <div class="margin">
                  <span class="content"> {{stations.phoneNumber}}</span>
                </div>
              </div>
              <div class="end">
                <button mat-icon-button (click)="changeNotificationsStatus(stations.id, stations.activeNotification)">
                  <mat-icon class="icon" svgIcon="icons:notifications_available" *ngIf="stations.activeNotification"></mat-icon>
                  <mat-icon class="icon" svgIcon="icons:disable_notification" *ngIf="!stations.activeNotification"></mat-icon>
                </button>
                <div>
                  <span class="percent">{{stations.progress}}%</span>
                </div>
              </div>
            </mat-card>
          </mat-card-content>
        </ng-template>
        <ng-template #notData>
          <mat-card-content class="not-stations">
            <span class="not-data-text">AÃºn no tiene estaciones en su lista</span>
          </mat-card-content>
        </ng-template>
      </ng-template>
  </mat-card>
</div>

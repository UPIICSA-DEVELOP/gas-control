<!--
  ~ Copyright (C) MapLander S de R.L de C.V - All Rights Reserved
  ~ Unauthorized copying of this file, via any medium is strictly prohibited
  ~ Proprietary and confidential
  -->

<div id="core-update-password">
  <h2 *ngIf="info.title">{{info.title}}</h2>
  <mat-dialog-content>
    {{info.message}}
    <form [formGroup]="simpleForm" (ngSubmit)="accept(simpleForm.value)" aria-label="Form to change user password"
          style="display: grid;">
      <mat-form-field>
        <input formControlName="oldPassword" matInput [placeholder]="info.inputPlaceholder" required type="password"
               #inputPasswordOne aria-label="User input one">
        <button matSuffix aria-label="show password" type="button" mat-icon-button (click)="showPasswordOne()">
          <div *ngIf="hideOne; then passwordVisible else passwordInvisible"></div>
          <ng-template #passwordVisible>
            <mat-icon class="see-ocult-pass">visibility</mat-icon>
          </ng-template>
          <ng-template #passwordInvisible>
            <mat-icon class="see-ocult-pass">visibility_off</mat-icon>
          </ng-template>
        </button>
        <mat-error *ngIf="simpleForm.controls['oldPassword'].hasError('required')">
          Este campo es obligatorio
        </mat-error>
        <mat-error *ngIf="simpleForm.controls['oldPassword'].hasError('invalidPassword')">
          Contraseña actual incorrecta
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input formControlName="newPassword" matInput [placeholder]="info.inputPlaceholderTwo" required type="password"
               #inputPasswordTwo aria-label="User input two">
        <button matSuffix aria-label="show password" type="button" mat-icon-button (click)="showPasswordTwo()">
          <div *ngIf="hideTwo; then passwordVisible else passwordInvisible"></div>
          <ng-template #passwordVisible>
            <mat-icon class="see-ocult-pass">visibility</mat-icon>
          </ng-template>
          <ng-template #passwordInvisible>
            <mat-icon class="see-ocult-pass">visibility_off</mat-icon>
          </ng-template>
        </button>
        <mat-error *ngIf="simpleForm.controls['newPassword'].hasError('required')">
          Este campo es obligatorio
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input formControlName="confirmNewPass" matInput [placeholder]="info.inputPlaceholderThree" required type="password"
               #inputPasswordThree aria-label="User input three">
        <button matSuffix aria-label="show password" type="button" mat-icon-button (click)="showPasswordThree()">
          <div *ngIf="hideThree; then passwordVisible else passwordInvisible"></div>
          <ng-template #passwordVisible>
            <mat-icon class="see-ocult-pass">visibility</mat-icon>
          </ng-template>
          <ng-template #passwordInvisible>
            <mat-icon class="see-ocult-pass">visibility_off</mat-icon>
          </ng-template>
        </button>
        <mat-error *ngIf="simpleForm.controls['confirmNewPass'].hasError('required')">
          Este campo es obligatorio
        </mat-error>
        <mat-error *ngIf="simpleForm.controls['confirmNewPass'].hasError('differentPasswords')">
          Las contraseñas no coinciden
        </mat-error>
      </mat-form-field>
      <div style="display: flex; justify-content: flex-end">
        <button mat-button type="button" (click)="cancel()">{{info.cancel || 'CANCELAR'}}</button>
        <button mat-button *ngIf="info.accept">{{info.accept}}</button>
      </div>
    </form>
  </mat-dialog-content>
</div>
